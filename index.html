<!DOCTYPE html>
<html>
<head>
    <title>Pet the Kitty</title>
    <style>
        #target {
            width: 100px; /* Kitty size */
            height: 100px;
            position: absolute;
            cursor: pointer;
        }
        .popup {
            position: fixed;
            background: white;
            border: 2px solid #000;
            padding: 10px;
            z-index: 1000;
        }
        .popup img {
            max-width: 300px; /* Bigger popup size */
            max-height: 300px;
        }
        .close-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 25px;
            height: 25px;
            background: red;
            color: white;
            font-size: 20px;
            line-height: 25px; /* Center the "x" vertically */
            text-align: center; /* Center the "x" horizontally */
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Pet the Kitty!</h1>
    <p>Pets: <span id="pets">0</span></p>
    <img id="target" src="https://i.ibb.co/21zF9VLc/Pngtree-british-shorthair-cat-head-front-5790490.png" alt="Kitty" onclick="petKitty()">

    <script>
        let pets = 0;
        let target = document.getElementById("target");
        let petsDisplay = document.getElementById("pets");
        let x = 0;
        let y = 0;
        let baseSpeedX = 2;
        let baseSpeedY = 2;
        let speedX = baseSpeedX;
        let speedY = baseSpeedY;
        let lastSpeedIncrease = 0;
        let popupInterval = 30000; // Start with 30 seconds
        let intervalId = null;

        // Audio for meow sound
        let meowSound = new Audio("https://files.catbox.moe/qgw9jk.mp3");

        // Array of random cat image URLs
        const catImages = [
            "https://i.pinimg.com/736x/c1/27/9b/c1279b4d549f389ef9db944dc22c07f7.jpg",
            "https://i.pinimg.com/736x/94/be/1e/94be1e4aacd780781a13f081f721f016.jpg",
            "https://i.pinimg.com/736x/1e/be/df/1ebedff33dc49bdf6fc1fd496e2783dc.jpg",
            "https://i.pinimg.com/736x/37/77/d9/3777d974aedd4360b061a3bb2020d21c.jpg",
            "https://i.pinimg.com/736x/91/c7/02/91c702621b71f9c45aa2993018a3427b.jpg",
            "https://i.pinimg.com/736x/40/73/f6/4073f63c03e2db8d8f5fb16775622eec.jpg",
            "https://i.pinimg.com/736x/1f/c4/80/1fc4802fffc655bd5c09ceb1d0d19203.jpg",
            "https://i.pinimg.com/736x/5a/b4/0d/5ab40d469ae12e73809226d0d750a6da.jpg",
        ];

        function petKitty() {
            pets = pets + 1;
            petsDisplay.textContent = pets;

            // Play meow sound
            meowSound.currentTime = 0;
            meowSound.play();

            // Speed up every 4 pets
            if (pets % 4 === 0 && pets > lastSpeedIncrease) {
                speedX = speedX * 1.1;
                speedY = speedY * 1.1;
                lastSpeedIncrease = pets;
            }

            // Decrease popup interval every 10 pets (minimum 5 seconds)
            if (pets % 4 === 0) {
                popupInterval = Math.max(5000, popupInterval * 0.5); // Reduce by 10%, min 5s
                clearInterval(intervalId);
                intervalId = setInterval(createCatPopup, popupInterval);
            }
        }

        function moveTarget() {
            x = x + speedX;
            y = y + speedY;

            if (x + 50 > window.innerWidth || x < 0) {
                speedX = -speedX;
            }
            if (y + 50 > window.innerHeight || y < 0) {
                speedY = -speedY;
            }

            target.style.left = x + "px";
            target.style.top = y + "px";

            requestAnimationFrame(moveTarget);
        }

        // Function to create a random cat popup
        function createCatPopup() {
            const popup = document.createElement("div");
            popup.className = "popup";

            const catImg = document.createElement("img");
            const randomIndex = Math.floor(Math.random() * catImages.length);
            catImg.src = catImages[randomIndex];
            catImg.alt = "Random Cat";

            const closeBtn = document.createElement("button");
            closeBtn.className = "close-btn";
            closeBtn.textContent = "x";
            closeBtn.onclick = () => popup.remove();

            popup.appendChild(catImg);
            popup.appendChild(closeBtn);

            // Randomly position on one of the four sides
            const side = Math.floor(Math.random() * 4); // 0: top, 1: right, 2: bottom, 3: left
            const offset = 20; // Distance from edge
            switch (side) {
                case 0: // Top
                    popup.style.top = offset + "px";
                    popup.style.left = Math.random() * (window.innerWidth - 320) + "px"; // 320 accounts for popup width
                    break;
                case 1: // Right
                    popup.style.right = offset + "px";
                    popup.style.top = Math.random() * (window.innerHeight - 320) + "px";
                    break;
                case 2: // Bottom
                    popup.style.bottom = offset + "px";
                    popup.style.left = Math.random() * (window.innerWidth - 320) + "px";
                    break;
                case 3: // Left
                    popup.style.left = offset + "px";
                    popup.style.top = Math.random() * (window.innerHeight - 320) + "px";
                    break;
            }

            document.body.appendChild(popup);
        }

        // Start popup interval
        intervalId = setInterval(createCatPopup, popupInterval);

        // Initial kitty positioning and movement
        x = Math.floor(Math.random() * (window.innerWidth - 50));
        y = Math.floor(Math.random() * (window.innerHeight - 50));
        target.style.left = x + "px";
        target.style.top = y + "px";

        moveTarget();
    </script>
</body>
</html>
